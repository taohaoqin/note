## TCP协议在建立连接的时候需要经历3次握手的过程。
1. 第一次握手是由客户端向服务器端发起的，这是用来去发起一个连接建立的请求，那么这个报文中的SYN会被标记为1，所以我们把它通常叫做一个SYN包。
2. 第二次握手是由服务器向客户端发起的是来确认服务器的一个请求连接的，这个报文中呢我们的ACK位还有SYN位都被标记为1，所以我们也把它叫做一个SYN-ACK报文。
3. 第三次握手同样是客户端给服务器的这是对服务器的上一个报文的一个确认报，那么这个报文中的一个ACK被标记为1，所以我们把它叫做一个ACK包，以上就是TCP协议三次握手的过程。

## TCP协议四次挥手的过程
当TCP协议完成数据的发送后就会尝试去断开连接，此时它就会经历四次挥手的过程
1. 第一次挥手是客户端想服务器发起的，这个时候客户端已经完成了数据的发送，会发起一个包，去进行一个连接断开的请求，那么这个报文中它的一个FIN位被标记为1，所以我们也把它叫做一个FIN包
2. 第二次挥手是服务器发给客户端的，这个报文是用来确认上一个客户端用来断开连接请求的一个报文，所以它是一个ACK报文
3. 第三次挥手同样是服务器发给客户端的，那么这个时候服务器的数据如果也发送完毕的话，它也会向客户端发起一个断开连接的的申请，那么在这个报文中一个FIN为同样也会被标记为1，所以这也是一个FIN包。
4. 第四次挥手是客户端发给服务器的，是用来确认服务器的上一个断开连接的一个请求报文，所以这次挥手也是ACK报文

## 为什么握手需要3次，挥手需要4次
TCP三次握手的过程是它建立连接的过程，建立连接只需要确认 (1)你在，(2)我也在，(3)我们可以通行，就可以了，所以握手只需要3次。但是4次挥手呢是TCP去结束数据发送要断开连接的时候的一个过程，所以我要确保我即结束了发送数据，也结束了接受数据，(1)开始咱们的客户端结束了数据的发送，它会去告知服务器，这个时候我们的客户端其实还是可以接收数据的，(2)服务器收到它结束发送数据的请求之后，他只是会停止去接受数据，但是此时它的服务器其实还可以在发送数据的，(3)所以如果服务器他也发送完了，那就需要向客户端发送一次FIN包来告知客户端其实我的数据也发送完了，我也要断开连接了，(4)那此时客户端也受到了服务器这个FIN包之后，它也会去进行一个确认。此时双方才都会去关闭发送和接受的一个通道，所以挥手就需要4次